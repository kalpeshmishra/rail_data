!function(h){h.easyPieChart=function(t,e){var n,o,s,r,c,l,i,a,p=this;return this.el=t,this.$el=h(t),this.$el.data("easyPieChart",this),this.init=function(){var t,o;return p.options=h.extend({},h.easyPieChart.defaultOptions,e),t=parseInt(p.$el.data("percent"),10),p.percentage=0,p.canvas=h("<canvas width='"+p.options.size+"' height='"+p.options.size+"'></canvas>").get(0),p.$el.append(p.canvas),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(p.canvas),p.ctx=p.canvas.getContext("2d"),1<window.devicePixelRatio&&(o=window.devicePixelRatio,h(p.canvas).css({width:p.options.size,height:p.options.size}),p.canvas.width*=o,p.canvas.height*=o,p.ctx.scale(o,o)),p.ctx.translate(p.options.size/2,p.options.size/2),p.ctx.rotate(p.options.rotate*Math.PI/180),p.$el.addClass("easyPieChart"),p.$el.css({width:p.options.size,height:p.options.size,lineHeight:p.options.size+"px"}),p.update(t),p},this.update=function(t){return t=parseFloat(t)||0,!1===p.options.animate?s(t):p.options.delay?(o(p.percentage,0),setTimeout(function(){return o(p.percentage,t)},p.options.delay)):o(p.percentage,t),p},i=function(){var t,o,e;for(p.ctx.fillStyle=p.options.scaleColor,p.ctx.lineWidth=1,e=[],t=o=0;o<=24;t=++o)e.push(n(t));return e},n=function(t){var o;o=t%6==0?0:.017*p.options.size,p.ctx.save(),p.ctx.rotate(t*Math.PI/12),p.ctx.fillRect(p.options.size/2-o,0,.05*-p.options.size+o,1),p.ctx.restore()},a=function(){var t;t=p.options.size/2-p.options.lineWidth/2,!1!==p.options.scaleColor&&(t-=.08*p.options.size),p.ctx.beginPath(),p.ctx.arc(0,0,t,0,2*Math.PI,!0),p.ctx.closePath(),p.$el.data("trackcolor")&&(p.options.trackColor=p.$el.data("trackcolor")),p.ctx.strokeStyle=p.options.trackColor,p.ctx.lineWidth=p.options.lineWidth,p.ctx.stroke()},l=function(){!1!==p.options.scaleColor&&i(),!1!==p.options.trackColor&&a()},s=function(t){var o;l(),p.$el.data("barcolor")&&(p.options.barColor=p.$el.data("barcolor")),p.ctx.strokeStyle=h.isFunction(p.options.barColor)?p.options.barColor(t):p.options.barColor,p.ctx.lineCap=p.options.lineCap,p.ctx.lineWidth=p.options.lineWidth,o=p.options.size/2-p.options.lineWidth/2,!1!==p.options.scaleColor&&(o-=.08*p.options.size),p.ctx.save(),p.ctx.rotate(-Math.PI/2),p.ctx.beginPath(),p.ctx.arc(0,0,o,0,2*Math.PI*t/100,!1),p.ctx.stroke(),p.ctx.restore()},c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},o=function(e,n){var i,a;p.options.onStart.call(p),p.percentage=n,Date.now||(Date.now=function(){return+new Date}),a=Date.now(),c(i=function(){var t,o;return o=Math.min(Date.now()-a,p.options.animate),p.ctx.clearRect(-p.options.size/2,-p.options.size/2,p.options.size,p.options.size),l.call(p),t=[r(o,e,n-e,p.options.animate)],p.options.onStep.call(p,t),s.call(p,t),o>=p.options.animate?p.options.onStop.call(p,t,n):c(i)})},r=function(t,o,e,n){var i;return i=function(t){return Math.pow(t,2)},e/2*function(t){return t<1?i(t):2-i(t/2*-2+2)}(t/=n/2)+o},this.init()},h.easyPieChart.defaultOptions={barColor:"#ef1e25",trackColor:"#f2f2f2",scaleColor:"#dfe0e0",lineCap:"round",rotate:0,size:110,lineWidth:3,animate:!1,delay:!1,onStart:h.noop,onStop:h.noop,onStep:h.noop},h.fn.easyPieChart=function(i){return h.each(this,function(t,o){var e,n;if(!(e=h(o)).data("easyPieChart"))return n=h.extend({},i,e.data()),e.data("easyPieChart",new h.easyPieChart(o,n))})}}(jQuery);