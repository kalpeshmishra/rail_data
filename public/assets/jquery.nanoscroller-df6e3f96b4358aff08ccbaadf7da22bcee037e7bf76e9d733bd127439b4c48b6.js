!function(s,i,o){"use strict";var h,c,n,l,e,r,a,p,d,g,v,u,f,S,m,T,w,y;w={paneClass:"pane",sliderClass:"slider",contentClass:"content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},f="scroll",r="mousedown",a="mousemove",d="mousewheel",p="mouseup",u="resize",e="drag",m="up",v="panedown",n="DOMMouseScroll",l="down",T="wheel",S="touchmove",h="Microsoft Internet Explorer"===i.navigator.appName&&/msie 7./i.test(i.navigator.appVersion)&&i.ActiveXObject,c=null,y=function(){var t,e,i;return(e=(t=o.createElement("div")).style).position="absolute",e.width="100px",e.height="100px",e.overflow=f,e.top="-9999px",o.body.appendChild(t),i=t.offsetWidth-t.clientWidth,o.body.removeChild(t),i},g=function(){function t(t,e){this.el=t,this.options=e,c||(c=y()),this.$el=s(this.el),this.doc=s(this.options.documentContext||o),this.win=s(this.options.windowContext||i),this.$content=this.$el.children("."+e.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return t.prototype.preventScrolling=function(t,e){if(this.isActive)if(t.type===n)(e===l&&0<t.originalEvent.detail||e===m&&t.originalEvent.detail<0)&&t.preventDefault();else if(t.type===d){if(!t.originalEvent||!t.originalEvent.wheelDelta)return;(e===l&&t.originalEvent.wheelDelta<0||e===m&&0<t.originalEvent.wheelDelta)&&t.preventDefault()}},t.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},t.prototype.updateScrollValues=function(){var t;t=this.content,this.maxScrollTop=t.scrollHeight-t.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=t.scrollTop,this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},t.prototype.createEvents=function(){var i=this;this.events={down:function(t){return i.isBeingDragged=!0,i.offsetY=t.pageY-i.slider.offset().top,i.pane.addClass("active"),i.doc.bind(a,i.events[e]).bind(p,i.events[m]),!1},drag:function(t){return i.sliderY=t.pageY-i.$el.offset().top-i.offsetY,i.scroll(),i.updateScrollValues(),i.contentScrollTop>=i.maxScrollTop&&i.prevScrollTop!==i.maxScrollTop?i.$el.trigger("scrollend"):0===i.contentScrollTop&&0!==i.prevScrollTop&&i.$el.trigger("scrolltop"),!1},up:function(){return i.isBeingDragged=!1,i.pane.removeClass("active"),i.doc.unbind(a,i.events[e]).unbind(p,i.events[m]),!1},resize:function(){i.reset()},panedown:function(t){return i.sliderY=(t.offsetY||t.originalEvent.layerY)-.5*i.sliderHeight,i.scroll(),i.events.down(t),!1},scroll:function(t){i.isBeingDragged||(i.updateScrollValues(),i.iOSNativeScrolling||(i.sliderY=i.sliderTop,i.slider.css({top:i.sliderTop})),null!=t&&(i.contentScrollTop>=i.maxScrollTop?(i.options.preventPageScrolling&&i.preventScrolling(t,l),i.prevScrollTop!==i.maxScrollTop&&i.$el.trigger("scrollend")):0===i.contentScrollTop&&(i.options.preventPageScrolling&&i.preventScrolling(t,m),0!==i.prevScrollTop&&i.$el.trigger("scrolltop"))))},wheel:function(t){var e;if(null!=t)return(e=t.delta||t.wheelDelta||t.originalEvent&&t.originalEvent.wheelDelta||-t.detail||t.originalEvent&&-t.originalEvent.detail)&&(i.sliderY+=-e/3),i.scroll(),!1}}},t.prototype.addEvents=function(){var t;this.removeEvents(),t=this.events,this.options.disableResize||this.win.bind(u,t[u]),this.iOSNativeScrolling||(this.slider.bind(r,t[l]),this.pane.bind(r,t[v]).bind(d+" "+n,t[T])),this.$content.bind(f+" "+d+" "+n+" "+S,t[f])},t.prototype.removeEvents=function(){var t;t=this.events,this.win.unbind(u,t[u]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(f+" "+d+" "+n+" "+S,t[f])},t.prototype.generate=function(){var t,e,i,s;return i=(e=this.options).paneClass,s=e.sliderClass,e.contentClass,this.$el.find(""+i).length||this.$el.find(""+s).length||this.$el.append('<div class="'+i+'"><div class="'+s+'" /></div>'),this.pane=this.$el.children("."+i),this.slider=this.pane.find("."+s),c&&(t={right:-c},this.$el.addClass("has-scrollbar")),null!=t&&this.$content.css(t),this},t.prototype.restore=function(){this.stopped=!1,this.pane.show(),this.addEvents()},t.prototype.reset=function(){var t,e,i,s,o,n,l,r;return this.iOSNativeScrolling?void(this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),s=(i=(t=this.content).style).overflowY,h&&this.$content.css({height:this.$content.height()}),e=t.scrollHeight+c,0<(l=parseInt(this.$el.css("max-height"),10))&&(this.$el.height(""),this.$el.height(t.scrollHeight>l?l:t.scrollHeight)),n=(o=this.pane.outerHeight(!1))+parseInt(this.pane.css("top"),10)+parseInt(this.pane.css("bottom"),10),(r=Math.round(n/e*n))<this.options.sliderMinHeight?r=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&r>this.options.sliderMaxHeight&&(r=this.options.sliderMaxHeight),s===f&&i.overflowX!==f&&(r+=c),this.maxSliderTop=n-r,this.contentHeight=e,this.paneHeight=o,this.paneOuterHeight=n,this.sliderHeight=r,this.slider.height(r),this.events.scroll(),this.pane.show(),this.isActive=!0,t.scrollHeight===t.clientHeight||this.pane.outerHeight(!0)>=t.scrollHeight&&s!==f?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===t.scrollHeight&&s===f?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),this)},t.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop((this.paneHeight-this.contentHeight+c)*this.sliderY/this.maxSliderTop*-1),this.iOSNativeScrolling||this.slider.css({top:this.sliderY}),this):void 0},t.prototype.scrollBottom=function(t){return this.isActive?(this.reset(),this.$content.scrollTop(this.contentHeight-this.$content.height()-t).trigger(d),this):void 0},t.prototype.scrollTop=function(t){return this.isActive?(this.reset(),this.$content.scrollTop(+t).trigger(d),this):void 0},t.prototype.scrollTo=function(t){return this.isActive?(this.reset(),this.scrollTop(s(t).get(0).offsetTop),this):void 0},t.prototype.stop=function(){return this.stopped=!0,this.removeEvents(),this.pane.hide(),this},t.prototype.destroy=function(){return this.stopped||this.stop(),this.pane.length&&this.pane.remove(),h&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass("has-scrollbar")&&(this.$el.removeClass("has-scrollbar"),this.$content.css({right:""})),this},t.prototype.flash=function(){var t=this;if(this.isActive)return this.reset(),this.pane.addClass("flashed"),setTimeout(function(){t.pane.removeClass("flashed")},this.options.flashDelay),this},t}(),s.fn.nanoScroller=function(i){return this.each(function(){var t,e;if((e=this.nanoscroller)||(t=s.extend({},w,i),this.nanoscroller=e=new g(this,t)),i&&"object"==typeof i){if(s.extend(e.options,i),i.scrollBottom)return e.scrollBottom(i.scrollBottom);if(i.scrollTop)return e.scrollTop(i.scrollTop);if(i.scrollTo)return e.scrollTo(i.scrollTo);if("bottom"===i.scroll)return e.scrollBottom(0);if("top"===i.scroll)return e.scrollTop(0);if(i.scroll&&i.scroll instanceof s)return e.scrollTo(i.scroll);if(i.stop)return e.stop();if(i.destroy)return e.destroy();if(i.flash)return e.flash()}return e.reset()})},s.fn.nanoScroller.Constructor=g}(jQuery,window,document);