!function(e){e.fileValidator=function(i){var a=[],n=i.onInvalid;for(var t in e.fileValidator.validations)i[t]&&a.push(e.fileValidator.validations[t](i[t],n));return function(i){for(var n=0,t=a.length;n<t;n++)a[n].call(this,i)}},e.fileValidator.validations={maxSize:function(n,t){return"string"==typeof n&&(n=e.fileValidator.sizeToBytes(n)),function(i){i.size>n&&t.call(this,"maxSize",i)}},type:function(n,t){var a;return a="function"==typeof n?n:n.constructor===RegExp?function(i){return i.match(n)}:function(i){return~i.indexOf(n)},function(i){a(i.type)||t.call(this,"type",i)}}},e.fn.fileValidator=function(i){var o=e.extend({maxSize:null,type:null,onValidation:e.fileValidator.doNothing,onInvalid:e.fileValidator.doNothing},i);return this.each(function(){var i=e(this),a=e.fileValidator(e.extend({},o,i.data()));i.bind("change",function(){var i=this.files||[];o.onValidation.call(this,i);for(var n=0,t=i.length;n<t;n++)a.call(this,i[n])})})},e.fileValidator.doNothing=function i(){},e.fileValidator.sizeToBytes=function t(i){var n=1;return~i.indexOf("k")?n=1024:~i.indexOf("m")?n=1048576:~i.indexOf("g")&&(n=1073741824),parseInt(i,10)*n}}(jQuery);